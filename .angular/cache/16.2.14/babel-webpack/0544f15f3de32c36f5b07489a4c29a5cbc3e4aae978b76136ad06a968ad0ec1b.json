{"ast":null,"code":"import { Libro } from '../model/libro.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/libro.service\";\nimport * as i2 from \"../services/reserva.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction LibrosComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"div\", 13);\n    i0.ɵɵelementStart(2, \"div\", 14)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"img\", 15);\n    i0.ɵɵelementStart(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function LibrosComponent_div_20_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.reservarLibro(ctx_r4.libroBuscado));\n    });\n    i0.ɵɵtext(11, \"Reservar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.libro.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Autor: \", ctx_r0.libro.autor, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"A\\u00F1o: \", ctx_r0.libro.ejemplaresDisponibles, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r0.libroBuscado.titulo);\n    i0.ɵɵproperty(\"src\", ctx_r0.libroBuscado.imagen, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction LibrosComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19);\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementStart(3, \"div\", 21)(4, \"h5\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 23);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 23);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function LibrosComponent_div_21_div_1_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const libro_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.reservarLibro(libro_r7));\n    });\n    i0.ɵɵtext(11, \"Reservar\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const libro_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"alt\", libro_r7.titulo);\n    i0.ɵɵproperty(\"src\", ctx_r6.getImagenUrl(libro_r7.imagen), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(libro_r7.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Autor: \", libro_r7.autor, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Ejemplares Disponibles: \", libro_r7.ejemplaresDisponibles, \"\");\n  }\n}\nfunction LibrosComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, LibrosComponent_div_21_div_1_Template, 12, 5, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.libros);\n  }\n}\nfunction LibrosComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"No se encontraron libros.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LibrosComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 24);\n    i0.ɵɵlistener(\"click\", function LibrosComponent_div_23_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.cerrarFormularioAgregar());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 25)(3, \"div\", 26)(4, \"span\", 27);\n    i0.ɵɵlistener(\"click\", function LibrosComponent_div_23_Template_span_click_4_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.cerrarFormularioAgregar());\n    });\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h2\");\n    i0.ɵɵtext(7, \"Agregar Nuevo Libro\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"form\", 28);\n    i0.ɵɵlistener(\"ngSubmit\", function LibrosComponent_div_23_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.agregarLibro());\n    });\n    i0.ɵɵelementStart(9, \"div\", 5)(10, \"label\", 29);\n    i0.ɵɵtext(11, \"T\\u00EDtulo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function LibrosComponent_div_23_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.nuevoLibro.titulo = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\", 31);\n    i0.ɵɵtext(15, \"Autor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function LibrosComponent_div_23_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.nuevoLibro.autor = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 5)(18, \"label\", 33);\n    i0.ɵɵtext(19, \"Ejemplares Disponibles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function LibrosComponent_div_23_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.nuevoLibro.ejemplaresDisponibles = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 5)(22, \"label\", 35);\n    i0.ɵɵtext(23, \"Imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"input\", 36);\n    i0.ɵɵlistener(\"change\", function LibrosComponent_div_23_Template_input_change_24_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"button\", 37);\n    i0.ɵɵtext(26, \"Agregar\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.nuevoLibro.titulo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.nuevoLibro.autor);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.nuevoLibro.ejemplaresDisponibles);\n  }\n}\nexport class LibrosComponent {\n  constructor(libroService, reservaService, router) {\n    this.libroService = libroService;\n    this.reservaService = reservaService;\n    this.router = router;\n    this.libros = [];\n    this.nombreBusqueda = '';\n    this.mostrarFormulario = false;\n    this.nuevoLibro = new Libro(0, '', '', 0, '');\n  }\n  ngOnInit() {\n    this.obtenerLibros();\n  }\n  obtenerLibros() {\n    this.libroService.obtenerTodosLosLibros().subscribe(libros => {\n      console.log('Todos los libros:', libros);\n      this.libros = libros;\n    }, error => {\n      console.error('Error al obtener todos los libros:', error);\n    });\n  }\n  buscarLibrosPorNombre() {\n    console.log('Buscando libros con el nombre:', this.nombreBusqueda);\n    if (this.nombreBusqueda) {\n      this.libroService.buscarLibrosPorTitulo(this.nombreBusqueda).subscribe(respuesta => {\n        const libros = Array.isArray(respuesta) ? respuesta : [respuesta];\n        console.log('Libros encontrados:', libros);\n        if (libros.length > 0) {\n          this.libroBuscado = libros[0];\n          console.log('Libro buscado actualizado:', this.libroBuscado);\n        } else {\n          this.libroBuscado = undefined;\n          console.log('No se encontraron libros con el nombre:', this.nombreBusqueda);\n        }\n      }, error => {\n        console.error('Error al buscar libros por título:', error);\n      });\n    } else {\n      this.libroBuscado = undefined;\n      this.obtenerLibros();\n    }\n  }\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  getImagenUrl(imagen) {\n    return `http://localhost:8086/api/images/${imagen}`;\n  }\n  reservarLibro(libro) {\n    const usuarioId = 1; // Asigna el ID del usuario actualmente logueado\n    if (libro.ejemplaresDisponibles > 0) {\n      this.reservaService.reservarLibro(libro.id, usuarioId).subscribe(() => {\n        libro.ejemplaresDisponibles--;\n      }, error => {\n        console.error('Error al reservar libro:', error);\n      });\n    } else {\n      alert(`No hay ejemplares disponibles para el libro ${libro.titulo}.`);\n    }\n  }\n  mostrarFormularioAgregar() {\n    this.mostrarFormulario = true;\n  }\n  cerrarFormularioAgregar() {\n    this.mostrarFormulario = false;\n  }\n  agregarLibro() {\n    this.libroService.crearLibro(this.nuevoLibro).subscribe(libro => {\n      this.libros.push(libro);\n      this.cerrarFormularioAgregar();\n    }, error => {\n      console.error('Error al agregar libro:', error);\n    });\n  }\n  static #_ = this.ɵfac = function LibrosComponent_Factory(t) {\n    return new (t || LibrosComponent)(i0.ɵɵdirectiveInject(i1.LibroService), i0.ɵɵdirectiveInject(i2.ReservaService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LibrosComponent,\n    selectors: [[\"app-libros\"]],\n    decls: 24,\n    vars: 5,\n    consts: [[\"lang\", \"es\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\"], [1, \"container\", \"mt-4\", \"libro-container\"], [1, \"mb-3\"], [\"for\", \"nombreBusqueda\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"nombreBusqueda\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\", \"justify-content-between\", \"mt-2\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"fondo-difuminado\"], [1, \"libro-cuadro\"], [1, \"img-fluid\", 3, \"src\", \"alt\"], [1, \"row\"], [\"class\", \"col-md-4 mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"mb-4\"], [1, \"card\", \"h-100\", \"card-libro\"], [1, \"card-img-top\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"fondo-difuminado\", 3, \"click\"], [1, \"modal\"], [1, \"modal-content\"], [1, \"close\", 3, \"click\"], [3, \"ngSubmit\"], [\"for\", \"titulo\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"autor\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"autor\", \"name\", \"autor\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ejemplares\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"ejemplares\", \"name\", \"ejemplares\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"imagen\", 1, \"form-label\"], [\"type\", \"file\", \"id\", \"imagen\", 1, \"form-control\", 3, \"change\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n    template: function LibrosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n        i0.ɵɵelementStart(4, \"title\");\n        i0.ɵɵtext(5, \"Listado de Libros\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"link\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"body\")(8, \"div\", 4)(9, \"h2\");\n        i0.ɵɵtext(10, \"Listado de Libros\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\", 6);\n        i0.ɵɵtext(13, \"Buscar:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LibrosComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.nombreBusqueda = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 8)(16, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function LibrosComponent_Template_button_click_16_listener() {\n          return ctx.buscarLibrosPorNombre();\n        });\n        i0.ɵɵtext(17, \"Buscar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function LibrosComponent_Template_button_click_18_listener() {\n          return ctx.mostrarFormularioAgregar();\n        });\n        i0.ɵɵtext(19, \"Agregar Libro\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(20, LibrosComponent_div_20_Template, 12, 5, \"div\", 11);\n        i0.ɵɵtemplate(21, LibrosComponent_div_21_Template, 2, 1, \"div\", 12);\n        i0.ɵɵtemplate(22, LibrosComponent_div_22_Template, 3, 0, \"div\", 11);\n        i0.ɵɵtemplate(23, LibrosComponent_div_23_Template, 27, 3, \"div\", 11);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngModel\", ctx.nombreBusqueda);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.libroBuscado);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.libros.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.libros.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarFormulario);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\".modal[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      background-color: rgba(0, 0, 0, 0.5);\\n      z-index: 1000;\\n    }\\n\\n    .modal-content[_ngcontent-%COMP%] {\\n      background-color: white;\\n      padding: 20px;\\n      border-radius: 5px;\\n      width: 500px;\\n      max-width: 100%;\\n    }\\n\\n    .close[_ngcontent-%COMP%] {\\n      position: absolute;\\n      top: 10px;\\n      right: 20px;\\n      font-size: 24px;\\n      cursor: pointer;\\n    }\\n\\n    .fondo-difuminado[_ngcontent-%COMP%] {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      background-color: rgba(0, 0, 0, 0.5);\\n      z-index: 999;\\n    }\\n\\n    .libro-cuadro[_ngcontent-%COMP%] {\\n      position: fixed;\\n      top: 50%;\\n      left: 50%;\\n      transform: translate(-50%, -50%);\\n      background-color: white;\\n      padding: 20px;\\n      border-radius: 5px;\\n      z-index: 1000;\\n    }\"]\n  });\n}","map":{"version":3,"names":["Libro","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LibrosComponent_div_20_Template_button_click_10_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","reservarLibro","libroBuscado","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","libro","titulo","ɵɵtextInterpolate1","autor","ejemplaresDisponibles","ɵɵpropertyInterpolate","ɵɵproperty","imagen","ɵɵsanitizeUrl","LibrosComponent_div_21_div_1_Template_button_click_10_listener","restoredCtx","_r9","libro_r7","$implicit","ctx_r8","ctx_r6","getImagenUrl","ɵɵtemplate","LibrosComponent_div_21_div_1_Template","ctx_r1","libros","LibrosComponent_div_23_Template_div_click_1_listener","_r11","ctx_r10","cerrarFormularioAgregar","LibrosComponent_div_23_Template_span_click_4_listener","ctx_r12","LibrosComponent_div_23_Template_form_ngSubmit_8_listener","ctx_r13","agregarLibro","LibrosComponent_div_23_Template_input_ngModelChange_12_listener","$event","ctx_r14","nuevoLibro","LibrosComponent_div_23_Template_input_ngModelChange_16_listener","ctx_r15","LibrosComponent_div_23_Template_input_ngModelChange_20_listener","ctx_r16","LibrosComponent_div_23_Template_input_change_24_listener","ctx_r17","onFileSelected","ctx_r3","LibrosComponent","constructor","libroService","reservaService","router","nombreBusqueda","mostrarFormulario","ngOnInit","obtenerLibros","obtenerTodosLosLibros","subscribe","console","log","error","buscarLibrosPorNombre","buscarLibrosPorTitulo","respuesta","Array","isArray","length","undefined","event","selectedFile","target","files","usuarioId","id","alert","mostrarFormularioAgregar","crearLibro","push","_","ɵɵdirectiveInject","i1","LibroService","i2","ReservaService","i3","Router","_2","selectors","decls","vars","consts","template","LibrosComponent_Template","rf","ctx","LibrosComponent_Template_input_ngModelChange_14_listener","LibrosComponent_Template_button_click_16_listener","LibrosComponent_Template_button_click_18_listener","LibrosComponent_div_20_Template","LibrosComponent_div_21_Template","LibrosComponent_div_22_Template","LibrosComponent_div_23_Template"],"sources":["C:\\Users\\Juanma\\Documents\\GitHub\\librotech\\src\\app\\componentes\\libros.component.ts","C:\\Users\\Juanma\\Documents\\GitHub\\librotech\\src\\app\\componentes\\libros.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Libro } from '../model/libro.model';\r\nimport { LibroService } from '../services/libro.service';\r\nimport { ReservaService } from '../services/reserva.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-libros',\r\n  templateUrl: './libros.component.html'\r\n})\r\nexport class LibrosComponent implements OnInit {\r\n\r\n  libros: Libro[] = [];\r\n  nombreBusqueda: string = '';\r\n  libroBuscado: Libro | undefined;\r\n  mostrarFormulario: boolean = false;\r\n  nuevoLibro: Libro = new Libro(0, '', '', 0, '');\r\n  selectedFile!: File;\r\n\r\n  constructor(\r\n    private libroService: LibroService,\r\n    private reservaService: ReservaService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.obtenerLibros();\r\n  }\r\n\r\n  obtenerLibros(): void {\r\n    this.libroService.obtenerTodosLosLibros().subscribe(\r\n      libros => {\r\n        console.log('Todos los libros:', libros);\r\n        this.libros = libros;\r\n      },\r\n      error => {\r\n        console.error('Error al obtener todos los libros:', error);\r\n      }\r\n    );\r\n  }\r\n  buscarLibrosPorNombre(): void {\r\n    console.log('Buscando libros con el nombre:', this.nombreBusqueda);\r\n  \r\n    if (this.nombreBusqueda) {\r\n      this.libroService.buscarLibrosPorTitulo(this.nombreBusqueda).subscribe(\r\n        (respuesta: any) => {\r\n          const libros = Array.isArray(respuesta) ? respuesta : [respuesta];\r\n          console.log('Libros encontrados:', libros);\r\n  \r\n          if (libros.length > 0) {\r\n            this.libroBuscado = libros[0];\r\n            console.log('Libro buscado actualizado:', this.libroBuscado);\r\n          } else {\r\n            this.libroBuscado = undefined;\r\n            console.log('No se encontraron libros con el nombre:', this.nombreBusqueda);\r\n          }\r\n        },\r\n        error => {\r\n          console.error('Error al buscar libros por título:', error);\r\n        }\r\n      );\r\n    } else {\r\n      this.libroBuscado = undefined;\r\n      this.obtenerLibros();\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  onFileSelected(event: any): void {\r\n    this.selectedFile = event.target.files[0];\r\n  }\r\n\r\n  getImagenUrl(imagen: string): string {\r\n    return `http://localhost:8086/api/images/${imagen}`;\r\n  }\r\n\r\n  reservarLibro(libro: Libro): void {\r\n    const usuarioId = 1; // Asigna el ID del usuario actualmente logueado\r\n    if (libro.ejemplaresDisponibles > 0) {\r\n      this.reservaService.reservarLibro(libro.id, usuarioId).subscribe(\r\n        () => {\r\n          libro.ejemplaresDisponibles--;\r\n        },\r\n        error => {\r\n          console.error('Error al reservar libro:', error);\r\n        }\r\n      );\r\n    } else {\r\n      alert(`No hay ejemplares disponibles para el libro ${libro.titulo}.`);\r\n    }\r\n  }\r\n\r\n  mostrarFormularioAgregar(): void {\r\n    this.mostrarFormulario = true;\r\n  }\r\n\r\n  cerrarFormularioAgregar(): void {\r\n    this.mostrarFormulario = false;\r\n  }\r\n\r\n  agregarLibro(): void {\r\n    this.libroService.crearLibro(this.nuevoLibro).subscribe(\r\n      (libro: Libro) => {\r\n        this.libros.push(libro);\r\n        this.cerrarFormularioAgregar();\r\n      },\r\n      error => {\r\n        console.error('Error al agregar libro:', error);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Listado de Libros</title>\r\n  <!-- Bootstrap CSS -->\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n  <style>\r\n    .modal {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n      z-index: 1000;\r\n    }\r\n\r\n    .modal-content {\r\n      background-color: white;\r\n      padding: 20px;\r\n      border-radius: 5px;\r\n      width: 500px;\r\n      max-width: 100%;\r\n    }\r\n\r\n    .close {\r\n      position: absolute;\r\n      top: 10px;\r\n      right: 20px;\r\n      font-size: 24px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .fondo-difuminado {\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n      z-index: 999;\r\n    }\r\n\r\n    .libro-cuadro {\r\n      position: fixed;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      background-color: white;\r\n      padding: 20px;\r\n      border-radius: 5px;\r\n      z-index: 1000;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div class=\"container mt-4 libro-container\">\r\n    <h2>Listado de Libros</h2>\r\n  \r\n    <div class=\"mb-3\">\r\n      <label for=\"nombreBusqueda\" class=\"form-label\">Buscar:</label>\r\n      <input type=\"text\" id=\"nombreBusqueda\" [(ngModel)]=\"nombreBusqueda\" class=\"form-control\">\r\n      <div class=\"d-flex justify-content-between mt-2\">\r\n        <button class=\"btn btn-primary\" (click)=\"buscarLibrosPorNombre()\">Buscar</button>\r\n        <button class=\"btn btn-success\" (click)=\"mostrarFormularioAgregar()\">Agregar Libro</button>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"libroBuscado\">\r\n      <div class=\"fondo-difuminado\"></div>\r\n      <div class=\"libro-cuadro\">\r\n        <h3>{{ libro.titulo }}</h3>\r\n        <p>Autor: {{ libro.autor }}</p>\r\n        <p>Año: {{ libro.ejemplaresDisponibles }}</p>\r\n        <img [src]=\"libroBuscado.imagen\" alt=\"{{ libroBuscado.titulo }}\" class=\"img-fluid\">\r\n        <button class=\"btn btn-primary\" (click)=\"reservarLibro(libroBuscado)\">Reservar</button>\r\n  \r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"row\" *ngIf=\"libros.length > 0\">\r\n      <div class=\"col-md-4 mb-4\" *ngFor=\"let libro of libros\">\r\n        <div class=\"card h-100 card-libro\">\r\n          <img [src]=\"getImagenUrl(libro.imagen)\" class=\"card-img-top\" alt=\"{{ libro.titulo }}\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">{{ libro.titulo }}</h5>\r\n            <p class=\"card-text\">Autor: {{ libro.autor }}</p>\r\n            <p class=\"card-text\">Ejemplares Disponibles: {{ libro.ejemplaresDisponibles }}</p>\r\n            <button class=\"btn btn-primary\" (click)=\"reservarLibro(libro)\">Reservar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n    <div *ngIf=\"!libros.length\">\r\n      <p>No se encontraron libros.</p>\r\n    </div>\r\n  \r\n    <div *ngIf=\"mostrarFormulario\">\r\n      <div class=\"fondo-difuminado\" (click)=\"cerrarFormularioAgregar()\"></div>\r\n      <div class=\"modal\">\r\n        <div class=\"modal-content\">\r\n          <span class=\"close\" (click)=\"cerrarFormularioAgregar()\">&times;</span>\r\n          <h2>Agregar Nuevo Libro</h2>\r\n          <form (ngSubmit)=\"agregarLibro()\">\r\n            <div class=\"mb-3\">\r\n               <label for=\"titulo\" class=\"form-label\">Título</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"titulo\" [(ngModel)]=\"nuevoLibro.titulo\" name=\"titulo\" required>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"autor\" class=\"form-label\">Autor</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"autor\" [(ngModel)]=\"nuevoLibro.autor\" name=\"autor\" required>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"ejemplares\" class=\"form-label\">Ejemplares Disponibles</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"ejemplares\" [(ngModel)]=\"nuevoLibro.ejemplaresDisponibles\" name=\"ejemplares\" required>\r\n              <div class=\"mb-3\">\r\n                <label for=\"imagen\" class=\"form-label\">Imagen</label>\r\n                <input type=\"file\" class=\"form-control\" id=\"imagen\" (change)=\"onFileSelected($event)\">\r\n              </div>\r\n              <button type=\"submit\" class=\"btn btn-primary\">Agregar</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  </body>\r\n  </html>\r\n  \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}